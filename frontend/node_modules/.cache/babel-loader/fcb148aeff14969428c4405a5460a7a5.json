{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SAURAV SUMAN\\\\Desktop\\\\Ominify Project\\\\frontend\\\\src\\\\component\\\\home\\\\EvenDetails.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useGetSingleEventsQuery } from \"../../sevices/userAuthApi\";\nimport { Spinner } from '@chakra-ui/react';\nimport Calendar from 'react-calendar';\nimport moment from 'moment';\nimport 'react-calendar/dist/Calendar.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EvenDetails = () => {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const {\n    data,\n    isFetching,\n    isSuccess,\n    isError\n  } = useGetSingleEventsQuery(id); // program to check leap year\n\n  function checkLeapYear(year) {\n    //three conditions to find out the leap year\n    if (0 == year % 4 && 0 != year % 100 || 0 == year % 400) {\n      return 1;\n    } else {\n      return 0;\n    }\n  }\n\n  const mark = [];\n  const weeksDay = {\n    \"sunday\": 0,\n    \"monday\": 1,\n    \"tuesday\": 2,\n    \"wednesday\": 3,\n    \"thrusday\": 4,\n    \"friday\": 5,\n    \"saturday\": 6\n  }; //console.log(day['sunday']);\n\n  const months = {\n    1: 31,\n    2: 28,\n    3: 31,\n    4: 30,\n    5: 31,\n    6: 30,\n    7: 31,\n    8: 31,\n    9: 30,\n    10: 31,\n    11: 30,\n    12: 31\n  };\n  const [value, onChange] = useState(new Date());\n\n  if (isSuccess) {\n    let date = data.events.date;\n    let year = data.events.year;\n    let month = data.events.month;\n    let schduled_day = data.events.day;\n    date = 4;\n    month = 1;\n    year = 2021;\n    schduled_day = 5; //let date1 = new Date('01-04-2021');\n    //const day = date1.getDay();\n    //console.log('date1->',date1,'day->',day ,'schduledday->',schduled_day);\n\n    let count = 0;\n\n    while (count < 91) {\n      let str = '';\n\n      if (month < 10) {\n        str = '0' + String(month) + '-';\n      } else {\n        str = String(month) + '-';\n      }\n\n      if (date < 10) {\n        str = str + '0' + String(date) + '-';\n      } else {\n        str = str + String(date) + '-';\n      }\n\n      str = str + String(year);\n      let date1 = new Date(str);\n      const day = date1.getDay(); //console.log('date1->',date1,'day->',day ,'schduledday->',schduled_day);\n\n      if (day === 5) {\n        mark.push(str);\n      }\n\n      let monthly = month;\n\n      if (month === 2 && checkLeapYear(year) === 1) {\n        monthly = 29;\n      } else {\n        monthly = months[month];\n      }\n\n      if (date === monthly) {\n        if (date === 28 || date === 30 || date === 31 || date === 29) {\n          date = 1;\n\n          if (month === 12) {\n            month = 1;\n            year = year + 1;\n          } else {\n            month++;\n          }\n        }\n      } else {\n        date = date + 1;\n      }\n\n      count = count + 1;\n    }\n  }\n\n  useEffect(() => {\n    if (isSuccess) {// onChange(new Date(12,12,2021));\n    }\n  }, [data, isSuccess]);\n  console.log(mark);\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: isFetching ? /*#__PURE__*/_jsxDEV(Spinner, {\n      thickness: \"4px\",\n      speed: \"0.65s\",\n      emptyColor: \"gray.200\",\n      color: \"blue.500\",\n      size: \"xl\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"calander-container\",\n        children: /*#__PURE__*/_jsxDEV(Calendar, {\n          style: {\n            height: 500\n          },\n          onChange: onChange,\n          value: value,\n          tileClassName: _ref => {\n            let {\n              date,\n              view\n            } = _ref;\n\n            if (mark.find(x => x === moment(date).format(\"DD-MM-YYYY\"))) {\n              return 'highlight';\n            }\n          },\n          tileDisabled: _ref2 => {\n            let {\n              date\n            } = _ref2;\n            return date.getDay() === 0;\n          }\n          /*maxDate={new Date(2020, 1, 0)}</div>*/\n          ,\n          minDate: new Date(3, 2, 2020)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 10\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 199,\n    columnNumber: 5\n  }, this);\n};\n\n_s(EvenDetails, \"mDvsPyyeknqESvswAbMj+Whfvx8=\", false, function () {\n  return [useParams, useGetSingleEventsQuery];\n});\n\n_c = EvenDetails;\nexport default EvenDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"EvenDetails\");","map":{"version":3,"names":["React","Fragment","useEffect","useState","useParams","useGetSingleEventsQuery","Spinner","Calendar","moment","EvenDetails","id","data","isFetching","isSuccess","isError","checkLeapYear","year","mark","weeksDay","months","value","onChange","Date","date","events","month","schduled_day","day","count","str","String","date1","getDay","push","monthly","console","log","height","view","find","x","format"],"sources":["C:/Users/SAURAV SUMAN/Desktop/Ominify Project/frontend/src/component/home/EvenDetails.js"],"sourcesContent":["import React, { Fragment, useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom';\r\n\r\n\r\nimport { useGetSingleEventsQuery} from \"../../sevices/userAuthApi\";\r\n\r\n\r\nimport { Spinner } from '@chakra-ui/react';\r\n\r\nimport Calendar from 'react-calendar';\r\nimport moment from 'moment';\r\n\r\nimport 'react-calendar/dist/Calendar.css';\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst EvenDetails = () => {\r\n\r\n    const {id} = useParams();\r\n\r\n\r\n\r\n    const {data ,isFetching,isSuccess,isError} = useGetSingleEventsQuery(id);\r\n\r\n    // program to check leap year\r\nfunction checkLeapYear(year) {\r\n\r\n  //three conditions to find out the leap year\r\n  if ((0 == year % 4) && (0 != year % 100) || (0 == year % 400)) {\r\n     return 1;\r\n  } else {\r\n      return 0;\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n   \r\n\r\n    const mark = []\r\n\r\n    const weeksDay = {\r\n\r\n        \"sunday\":0,\r\n        \"monday\":1,\r\n        \"tuesday\":2,\r\n        \"wednesday\":3,\r\n        \"thrusday\":4,\r\n        \"friday\":5,\r\n        \"saturday\":6,\r\n       \r\n       \r\n\r\n    }\r\n\r\n    //console.log(day['sunday']);\r\n\r\n    const months={\r\n        1:31,\r\n        2:28,\r\n        3:31,\r\n        4:30,\r\n        5:31,\r\n        6:30,\r\n        7:31,\r\n        8:31,\r\n        9:30,\r\n        10:31,\r\n        11:30,\r\n        12:31,\r\n    }\r\n    const [value, onChange] = useState(new Date());\r\n\r\n    if(isSuccess){\r\n\r\n      let date = data.events.date;\r\n      let year = data.events.year;\r\n      let month = data.events.month;\r\n\r\n\r\n      \r\n\r\n      let schduled_day = data.events.day;\r\n      \r\n\r\n     \r\n      date=4;\r\n      month=1;\r\n      year=2021;\r\n\r\n      schduled_day=5;\r\n      \r\n      //let date1 = new Date('01-04-2021');\r\n      //const day = date1.getDay();\r\n\r\n      //console.log('date1->',date1,'day->',day ,'schduledday->',schduled_day);\r\n\r\n\r\n      let count=0;\r\n\r\n      while(count<91){\r\n\r\n\r\n        \r\n        let str='';\r\n        if(month<10){\r\n          str =  '0'+String(month)+'-';\r\n\r\n        }else{\r\n          str =  String(month)+'-';\r\n        }\r\n\r\n        if(date<10){\r\n          str =  str+'0'+String(date)+'-';\r\n\r\n        }else{\r\n          str =  str+String(date)+'-';\r\n        }\r\n\r\n        str=str+String(year);\r\n\r\n        \r\n\r\n        let date1 = new Date(str);\r\n\r\n        const day = date1.getDay();\r\n        //console.log('date1->',date1,'day->',day ,'schduledday->',schduled_day);\r\n\r\n        if(day === 5){\r\n\r\n\r\n          \r\n\r\n          mark.push(str);\r\n        }\r\n\r\n        let monthly = month;\r\n\r\n         if(month === 2 && checkLeapYear(year) === 1){\r\n\r\n          monthly =29;\r\n\r\n\r\n         }else{\r\n\r\n          monthly =months[month];\r\n\r\n         }\r\n\r\n\r\n        if(date ===  monthly){\r\n\r\n          \r\n        if(date === 28 || date === 30 || date === 31 || date === 29){\r\n          date =1;\r\n          if(month === 12){\r\n            month=1;\r\n            year=year+1;    \r\n          }else{\r\n            month++;\r\n          }\r\n\r\n        }\r\n\r\n        }else {\r\n          date=date+1;\r\n        }\r\n\r\n       count=count+1;\r\n      }\r\n\r\n      \r\n     }\r\n\r\n    useEffect(()=>{\r\n\r\n        if(isSuccess){\r\n\r\n          // onChange(new Date(12,12,2021));\r\n    \r\n        }\r\n\r\n    },[data,isSuccess])\r\n\r\n   \r\n\r\n    console.log(mark);\r\n\r\n    \r\n    \r\n\r\n  return (\r\n    <Fragment>\r\n        {isFetching ?\r\n         (\r\n            <Spinner\r\n            thickness='4px'\r\n            speed='0.65s'\r\n            emptyColor='gray.200'\r\n            color='blue.500'\r\n            size='xl'\r\n          />\r\n         ):\r\n        (<Fragment>\r\n\r\n      <div className='calander-container'>\r\n      <Calendar \r\n\r\n\r\nstyle={{ height: 500 }}\r\n    onChange={onChange}\r\n    value={value}\r\n    tileClassName={({ date, view }) => {\r\n      if(mark.find(x=>x===moment(date).format(\"DD-MM-YYYY\"))){\r\n       return  'highlight'\r\n      }\r\n    }}\r\n\r\n\r\n    tileDisabled={({ date }) => date.getDay() === 0}\r\n\r\n    /*maxDate={new Date(2020, 1, 0)}</div>*/\r\n     minDate={\r\n      new Date(3,2,2020)\r\n    }\r\n\r\n    \r\n      \r\n       >\r\n\r\n       </Calendar>\r\n      </div>\r\n\r\n\r\n        </Fragment>)}\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default EvenDetails"],"mappings":"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"},"metadata":{},"sourceType":"module"}